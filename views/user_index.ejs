<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Latest compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />

    <!-- Optional theme -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
      integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
      crossorigin="anonymous"
    />

    <!-- Latest compiled and minified JavaScript -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>
    <style>
           .topnav {
             background-color: #e9e9e9;
           }
           .topnav .search-container {
             float: right;
           }

           .topnav input[type="text"] {
             padding: 6px;
             margin-top: 8px;
             font-size: 17px;
             border: none;
           }

           .topnav .search-container button {
             float: right;
             padding: 6px;
             margin-top: 8px;
             margin-right: 16px;
             background: #ddd;
             font-size: 17px;
             border: none;
             cursor: pointer;
           }

           .topnav .search-container button:hover {
             background: #ccc;
           }

           @media screen and (max-width: 600px) {
             .topnav .search-container {
               float: none;
             }

             .topnav a,
             .topnav input[type="text"],
             .topnav .search-container button {
               float: none;
               display: block;
               text-align: left;
               width: 100%;
               margin: 0;
               padding: 14px;
             }

             .topnav input[type="text"] {
               border: 1px solid #ccc;
             }
           }
           .topnav    .dropdown{
         display:inline-block;

           position:relative;
       }

      .topnav .dropdown button{
         border:none;
         padding:8px 16px;
         background-color:#055455;
         color:rgb(236, 241, 244);
         transition:.3s;
         cursor:pointer;
       }

      .topnav .dropdown:hover button{
         background-color:#137653;
       }

      .topnav .dropdown div{
         background-color:rgb(6, 191, 135);
         box-shadow:0 4px 8px rgba(0,0,0,0.2);
         z-index:1;
         visibility:hidden;
         position:absolute;
         min-width:100%;
         opacity:0;
         transition:.3s;
       }

      .topnav .dropdown:hover div{
         visibility:visible;
         opacity:1;
       }

       .topnav .dropdown div a{
         display:block;
         text-decoration:none;
         padding:8px;
         color:#000;
         transition:.1s;
         white-space:nowrap;
       }

       .topnav .dropdown div a:hover{
         background-color:#2196F3;
       Â  }
    </style>
  </head>

  <body>
    <div class="topnav">
      <div class="dropdown">
        <button>Sorting</button>
        <div>
          <a href="/Sorting/ASC/<%=+CurrentPage%>">Ascending</a>
          <a href="/Sorting/DESC/<%=+CurrentPage%>">Descending</a>
        </div>
      </div>
      <div class="search-container">
        <form action="/search" method="post">
          <input type="text" placeholder="Search.." name="sname" />
          <button type="submit">Search</button>
        </form>
      </div>
    </div>

    <div class="container">
      <h2><%= title %></h2>
      <a href="/add" class="btn btn-sm btn-primary">Add Books</a><br /><br />

      <table class="table table-hover">
        <thead>
          <tr>
            <th>Book Id</th>
            <th>Book Name</th>
            <th>Author Name</th>
            <th>Department</th>
            <th>Rack NO</th>
            <!-- <th>Book Image</th> -->
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% user.forEach(function(user){%>
          <tr>
            <td><%= user.book_id%></td>
            <td><%=user.book_name%></td>
            <td><%=user.author_name%></td>
            <td><%=user.department%></td>
            <td><%=user.rack_no%></td>
            <!-- <td><%=user.image%></td> -->
            <td>
              <a href="edit/<%=user.book_id%>" class="btn btn-sm btn-primary"
                >Edit</a
              >
              &nbsp;
              <a
                href="delete/<%=user.book_id%>"
                class="btn btn-sm btn-danger"
                onclick="return Delete()"
                >Delete</a
              >
            </td>
          </tr>

          <% });%>
        </tbody>
      </table>
    </div>
    <div class="break"></div>

    <div class="container mt-3 d-flex justify-content-center">
      <ul class="pagination">
        <% if(CurrentPage==1) {%>
        <li class="page-item disabled">
          <a class="page-link" href="">Previous</a>
        </li>
        <% } else {%>
        <li class="page-item">
          <a class="page-link" href="/?page=<%=CurrentPage-1%>">Previous</a>
        </li>
        <% } %> <% for(let i=1; i<=pages; i++){ %> <% if(i==CurrentPage){ %>
        <li class="page-item active">
          <a class="page-link" href="/?page=<%=i%>"> <%=i%> </a>
        </li>
        <% } else {%>
        <li class="page-item">
          <a class="page-link" href="/?page=<%=i%>"> <%=i%> </a>
        </li>
        <% } %> <% } %> <% if(CurrentPage==lastPage) {%>
        <li class="page-item disabled">
          <a class="page-link" href="">Next</a>
        </li>
        <% } else {%>
        <li class="page-item">
          <a class="page-link" href="/?page=<%=+CurrentPage+1%>">Next</a>
        </li>
        <% } %>
      </ul>
    </div>

    <footer class="container">20F-0316 Haseeb</footer>
    <script>
      function Delete() {
        alert("Delete Successfully");
      }
    </script>
  </body>
</html>
